<<<<<<< HEAD
{"version":3,"sources":["byui.js"],"names":["checkForJquery","loadJquery","console","log","jqueryScript","document","createElement","href","head","appendChild","$","jquery","minimumVersion","currentVersion","split","validVersion","i","length","loadjQueryErr","error","getItem","warn","window","addEventListener","tinyMCE","regExes","cssHrefs","querySelectorAll","reduce","accum","linkTag","getAttribute","some","match","regEx","push","editors","forEach","editor","dom","styleSheetLoader","load","editorErr","courseNumber","location","pathname","querySelector","accordion","heightStyle","collapsible","active","accordionErr","dialog","dialogErr","tabs","tabErr","videos","dataset","source","innerHTML","width","height","vidid","videoErr","generateSteps","modules","resourcesModule","find","test","canvasModule","name","start","iLearnTutorial","resources","instructor","id","get","teachers","filter","teacher","findIndex","teach","user_id","generateStepsErr","generateLessons","generateLessonLink","moduleId","moduleCount","lessonWrapperSelector","insertAdjacentHTML","modulesPerRow","classList","includes","validModules","generateLessonErr","stepsExist","lessonsExist","selectorErr","replace","breadcrumbErr","codeUsed","jsEle","cssEle","src","rel","prismErr","page","getElementById","Date","getFullYear","Error","copyrightErr","borderColor","styleGuts","script","type","async","onload","tippy","html","interactive","placement","theme","size","tooltipErr","slickScript","slick","dots","slickScriptCss","slickScriptTheme","slickErr"],"mappings":"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","file":"byui.js","sourcesContent":["/*eslint-env browser */\r\n/* eslint no-console:0 */\r\n/* global tinyMCE, tippy, $ */\r\n\r\n/* Allows us to disable this page for testing purposes */\r\n// TESTING disable for prod\r\n(function () {\r\n    // if (true) {\r\n    if (localStorage.getItem('devAccount') !== 'true') {\r\n        window.addEventListener('onload', editorStyles);\r\n        document.addEventListener('DOMContentLoaded', main);\r\n    } else {\r\n        console.warn('byui.js disabled for testing');\r\n    }\r\n\r\n    function checkForJquery() {\r\n        function loadJquery() {\r\n            console.log('loading jQuery');\r\n            var jqueryScript = document.createElement('script');\r\n            jqueryScript.href = 'https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js';\r\n            document.head.appendChild(jqueryScript);\r\n        }\r\n        try {\r\n            if (typeof $ == 'undefined' || typeof $().jquery == 'undefined') {\r\n                loadJquery();\r\n            } else {\r\n                // check version\r\n                var minimumVersion = '1.7.0'.split('.');\r\n                var currentVersion = $().jquery.split('.');\r\n                var validVersion = true;\r\n\r\n                for (let i = 0; i < minimumVersion.length; i++) {\r\n                    if (currentVersion[i] > minimumVersion[i]) {\r\n                        break;\r\n                    } else if (currentVersion < minimumVersion) {\r\n                        validVersion = false;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (!validVersion) {\r\n                    loadJquery();\r\n                }\r\n            }\r\n        } catch (loadjQueryErr) {\r\n            console.error(loadjQueryErr);\r\n        }\r\n    }\r\n\r\n\r\n    /* inject css into tinyMCE editors on page. Has to wait till tinyMCE is done loading */\r\n    function editorStyles() {\r\n        try {\r\n            /* if there are no WYSIWYG's on the page, don't bother running */\r\n            if (typeof tinyMCE === 'undefined') {\r\n                return;\r\n            }\r\n            /* our css, canvas common css, canvas color vars css */\r\n            var regExes = [/byui\\.css$/, /online\\.css$/, /common[\\w-]*\\.css$/, /variables[\\w-]*\\.css$/, /campus\\.css$/, /pathway\\.css$/];\r\n            var cssHrefs = [...document.querySelectorAll('link[rel=stylesheet]')].reduce((accum, linkTag) => {\r\n                var href = linkTag.getAttribute('href');\r\n\r\n                /* only keep the link if it matches one of the regExes */\r\n                if (regExes.some(regEx => href.match(regEx) !== null)) {\r\n                    accum.push(href);\r\n                }\r\n                return accum;\r\n            }, []);\r\n\r\n            tinyMCE.editors.forEach(editor => {\r\n                cssHrefs.forEach(href => {\r\n                    editor.dom.styleSheetLoader.load(href);\r\n                });\r\n            });\r\n        } catch (editorErr) {\r\n            console.error(editorErr);\r\n        }\r\n    }\r\n\r\n\r\n    function main() {\r\n        var courseNumber = document.location.pathname.split('/')[2];\r\n\r\n        /* Initialize accordion - JQUERY UI */\r\n        function initializeAccordion() {\r\n            try {\r\n                if (document.querySelector('div.accordion')) {\r\n                    checkForJquery();\r\n                    $('div.accordion').accordion({\r\n                        heightStyle: 'content',\r\n                        collapsible: true,\r\n                        active: false\r\n                    });\r\n                }\r\n            } catch (accordionErr) {\r\n                console.error(accordionErr);\r\n            }\r\n        }\r\n\r\n        /* Initialize dialog - JQUERY UI */\r\n        function initializeDialog() {\r\n            try {\r\n                if (document.querySelector('div.dialog')) {\r\n                    checkForJquery();\r\n                    $('div.dialog').dialog();\r\n                }\r\n            } catch (dialogErr) {\r\n                console.error(dialogErr);\r\n            }\r\n        }\r\n\r\n        /* Initialize tabs - JQUERY UI */\r\n        function initializeTabs() {\r\n            try {\r\n                $('#styleguide-tabs-demo-minimal').tabs();\r\n            } catch (tabErr) {\r\n                console.error(tabErr);\r\n            }\r\n        }\r\n\r\n        /* Insert custom video tag generation scripts */\r\n        function insertVideoTag() {\r\n            try {\r\n                var videos = document.querySelectorAll('.byui-video');\r\n                for (var i = 0; i < videos.length; i++) {\r\n                    if (videos[i].dataset.source == 'youtube') {\r\n                        videos[i].innerHTML = `<iframe width=\"${videos[i].dataset.width}px\" height=\"${videos[i].dataset.height}px\" src=\"https://www.youtube.com/embed/${videos[i].dataset.vidid}\" frameborder=\"0\" allowfullscreen></iframe>`;\r\n                    } else if (videos[i].dataset.source == 'kaltura') {\r\n                        videos[i].innerHTML = `<iframe width=\"${videos[i].dataset.width}px\" height=\"${videos[i].dataset.height}px\" src=\"https://cdnapisec.kaltura.com/p/1157612/sp/115761200/embedIframeJs/uiconf_id/29018071/partner_id/1157612?iframeembed=true&amp;playerId=kaltura_player_1485805514&amp;entry_id=${videos[i].dataset.vidid}&amp;flashvars[streamerType]=auto\" frameborder=\"0\" allowfullscreen></iframe>`;\r\n                    }\r\n                }\r\n            } catch (videoErr) {\r\n                console.error(videoErr);\r\n            }\r\n        }\r\n\r\n        /* handles all functions required to generate the course homepage */\r\n        function generateHomePage() {\r\n            /* generate top buttons (under.steps) */\r\n            function generateSteps(modules) {\r\n                try {\r\n                    /* Get additional resources module item */\r\n                    var resourcesModule = modules.find(canvasModule => /student\\s*resources/i.test(canvasModule.name));\r\n\r\n                    /* set home page buttons */\r\n                    var start = document.querySelector('#start'),\r\n                        iLearnTutorial = document.querySelector('#tutorial'),\r\n                        resources = document.querySelector('#resources'),\r\n                        instructor = document.querySelector('#instructor');\r\n\r\n                    if (start)\r\n                        start.href = `/courses/${courseNumber}/modules#module_${modules[0].id}`;\r\n                    if (iLearnTutorial)\r\n                        iLearnTutorial.href = 'http://byu-idaho.screenstepslive.com/s/16998/m/76692/l/865828-canvas-student-orientation?token=aq7F_UOmeDIj-6lBVDaXBdOQ01pfx1jw';\r\n                    if (resources && resourcesModule)\r\n                        resources.href = `/courses/${courseNumber}/modules#module_${resourcesModule.id}`;\r\n\r\n                    /* generate link to instructor bio - make the api call to get enrollments*/\r\n                    $.get(`https://byui.instructure.com/api/v1/courses/${courseNumber}/enrollments?type%5B%5D=TeacherEnrollment&per_page=50`, teachers => {\r\n                        /* check for multiple instances of the same teacher */\r\n                        // TODO which one of these is faster?\r\n                        // teachers = teachers.map(teacher => teacher.user_id).filter((teacherId, i, teachers) => teachers.indexOf(teacherId) === i);\r\n                        teachers = teachers.filter((teacher, i, teachers) => teachers.findIndex(teach => teach.user_id == teacher.user_id) == i);\r\n\r\n\r\n                        if (teachers.length > 1) {\r\n                            /* If there are multiple unique teachers */\r\n                            console.log('Multiple teachers are enrolled in this course. Please add \"Your Instructor\" link manually.');\r\n                        } else if (teachers.length === 0) {\r\n                            /* if the teacher isn't enrolled for some reason */\r\n                            console.log('Unable to find teacher enrollment.');\r\n                        } else {\r\n                            /* if we have one teacher set the URL */\r\n                            instructor.href = `/courses/${courseNumber}/users/${teachers[0].user_id}`;\r\n                        }\r\n                    });\r\n                } catch (generateStepsErr) {\r\n                    console.error(generateStepsErr);\r\n                }\r\n            }\r\n\r\n            /* generate lesson links (under .lessons) */\r\n            function generateLessons(modules) {\r\n                try {\r\n                    /* Generate a Module link - called by above try statement */\r\n                    function generateLessonLink(moduleId, moduleCount) {\r\n                        moduleCount++;\r\n                        /* append leading 0 */\r\n                        if (moduleCount < 10)\r\n                            moduleCount = `0${moduleCount}`;\r\n                        document.querySelector(lessonWrapperSelector).insertAdjacentHTML('beforeend', `<a href='/courses/${courseNumber}/modules#module_${moduleId}' style='width: calc(100% / ${modulesPerRow} - 20px);'>${moduleCount}</a>`);\r\n                    }\r\n\r\n                    var lessonWrapperSelector = '#navigation .lessons';\r\n\r\n                    /* clear lesson div & generate module links if generate class exists */\r\n                    if ([...document.querySelector(lessonWrapperSelector).classList].includes('generate')) {\r\n                        document.querySelector(lessonWrapperSelector).innerHTML = '';\r\n                        /* remove modules with invalid names & get modulesPerRow (limit 7) */\r\n                        var validModules = modules.filter(canvasModule => {\r\n                                return /(Week|Lesson|Unit)\\s*(1[0-9]|0?\\d(\\D|$))/gi.test(canvasModule.name);\r\n                            }),\r\n                            modulesPerRow = validModules.length > 7 ? 7 : validModules.length;\r\n\r\n                        /* generate module links */\r\n                        validModules.forEach((canvasModule, i) => {\r\n                            generateLessonLink(canvasModule.id, i);\r\n                        });\r\n                    }\r\n                } catch (generateLessonErr) {\r\n                    console.error(generateLessonErr);\r\n                }\r\n            }\r\n\r\n            try {\r\n                /* quit if we are not on the course homepage OR the page is missing the expected format */\r\n                let stepsExist = document.querySelectorAll('#navigation .steps').length > 0,\r\n                    lessonsExist = document.querySelectorAll('#navigation .lessons').length > 0;\r\n                if (!stepsExist || !lessonsExist) {\r\n                    return;\r\n                }\r\n\r\n                checkForJquery();\r\n                /* get course modules */\r\n                $.get('/api/v1/courses/' + courseNumber + '/modules?per_page=30', (modules) => {\r\n                    /* Don't run steps if they don't exist (or lessons) */\r\n                    if (stepsExist) {\r\n                        generateSteps(modules);\r\n                    }\r\n                    if (lessonsExist) {\r\n                        generateLessons(modules);\r\n                    }\r\n                });\r\n            } catch (selectorErr) {\r\n                console.error(selectorErr);\r\n            }\r\n        }\r\n\r\n        /* Hide the 3rd breadcrumb */\r\n        function alterBreadcrumb() {\r\n            try {\r\n                /* If there are 4 total, AND we're inside a course AND we're not in a group tab */\r\n                if (document.querySelectorAll('#breadcrumbs li').length === 4 && /\\.com\\/courses\\/\\d+\\/(?!groups)/i.test(window.location.href)) {\r\n                    document.querySelectorAll('#breadcrumbs li:nth-child(3) span')[0].innerHTML = 'Modules';\r\n                    /* update the link */\r\n                    document.querySelectorAll('#breadcrumbs li:nth-child(3) a')[0].href = document.querySelectorAll('#breadcrumbs li:nth-child(3) a')[0].href.replace(/\\/\\w+$/i, '/modules');\r\n                }\r\n            } catch (breadcrumbErr) {\r\n                console.error(breadcrumbErr);\r\n            }\r\n        }\r\n\r\n        /* enable prism pre > code highlighting */\r\n        function prismHighlighting() {\r\n            try {\r\n                let codeUsed = document.querySelector('pre code');\r\n                if (codeUsed == null) return;\r\n\r\n                let jsEle = document.createElement('script'),\r\n                    cssEle = document.createElement('link');\r\n                jsEle.src = 'https://content.byui.edu/integ/gen/a40c34d7-9f6f-4a18-a41d-2f40e2b2a18e/0/codeHighlighter.js';\r\n                cssEle.href = 'https://content.byui.edu/integ/gen/a40c34d7-9f6f-4a18-a41d-2f40e2b2a18e/0/codeHighlighter.css';\r\n                cssEle.rel = 'stylesheet';\r\n                document.head.appendChild(jsEle);\r\n                document.head.appendChild(cssEle);\r\n\r\n            } catch (prismErr) {\r\n                console.error(prismErr);\r\n            }\r\n        }\r\n\r\n        /* Insert copyright footer */\r\n        function addCopyrightFooter() {\r\n            try {\r\n                var page = document.getElementById('content');\r\n                if (page) {\r\n                    /* don't add one if it already exists */\r\n                    if (!document.querySelector('p.copyright') && !document.querySelector('p#byui-copyright'))\r\n                        page.insertAdjacentHTML('beforeend', `<p id='byui-copyright'>Copyright ${new Date().getFullYear()} Brigham Young University-Idaho</p>`);\r\n                } else {\r\n                    throw new Error('unable to add copyright footer to page');\r\n                }\r\n            } catch (copyrightErr) {\r\n                console.error(copyrightErr);\r\n            }\r\n        }\r\n\r\n        /* add quiz.next tooltips where needed */\r\n        function addTooltips() {\r\n            try {\r\n                let borderColor = 'black';\r\n                const divId = 'byui-quizzes-next-tooltip';\r\n                const assignmentsHTML = `<div id=\"${divId}\" style=\"display: none;\">Be sure to periodically review the <a href=\"http://byu-idaho.screenstepslive.com/s/14177/m/73336/l/970385-quizzes-next-faq-s\" target=\"_blank\">Quizzes.Next FAQs</a> to keep updated on new features/div>`;\r\n                const settingsHTML = `<div id=\"${divId}\" style=\"display: none;\">Please review <a href=\"http://byu-idaho.screenstepslive.com/s/14177/m/73336/l/970385-quizzes-next-faq-s\" target=\"_blank\">these FAQs</a> to see the benefits and cautions before using Quizzes.Next</div>`;\r\n\r\n                /* Add appropriate tooltip OR return if we're on the wrong page */\r\n                if (window.location.href.includes('settings')) {\r\n                    document.head.insertAdjacentHTML('beforeend', settingsHTML);\r\n                    borderColor = 'red';\r\n                } else if (window.location.href.includes('assignments')) {\r\n                    document.head.insertAdjacentHTML('beforeend', assignmentsHTML);\r\n                } else {\r\n                    return;\r\n                }\r\n\r\n                /* Add tooltip styles to DOM with appropriate border color */\r\n                const styleGuts = `<style>.tippy-tooltip.byui-theme {border: 2px solid ${borderColor};background-color: white;color: black;max-width: 200px;}.tippy-backdrop {background: white;}</style>`;\r\n\r\n                document.head.insertAdjacentHTML('beforeend', styleGuts);\r\n\r\n                /* create a script tag, add the tooltip JavaScript to it, and add the tag to the document */\r\n                const script = document.createElement('script');\r\n                script.type = 'text/javascript';\r\n                script.async = true;\r\n                script.src = 'https://content.byui.edu/integ/gen/a422cccd-35b7-4087-9329-20698cf169b0/0/tippy.all.min.js';\r\n                script.onload = () => {\r\n                    tippy('.quizzes_next, .new_quiz_lti_wrapper', {\r\n                        html: `#${divId}`,\r\n                        interactive: true,\r\n                        placement: 'bottom-end',\r\n                        theme: 'byui',\r\n                        size: 'large'\r\n                    });\r\n                };\r\n                document.head.appendChild(script);\r\n            } catch (tooltipErr) {\r\n                console.error(tooltipErr);\r\n            }\r\n        }\r\n\r\n        /* load JS & CSS needed for image carousels if there is one on the page */\r\n        function loadSlickJS() {\r\n            try {\r\n                /* don't load scripts if they aren't being used on the current page */\r\n                if (document.querySelector('.carousel').length === 0) {\r\n                    return;\r\n                }\r\n                var slickScript = document.createElement('script');\r\n                slickScript.src = 'https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js';\r\n                /* Initialize carousels if any are present on page */\r\n                slickScript.onload = () => {\r\n                    checkForJquery();\r\n\r\n                    $('.carousel').slick({\r\n                        dots: true,\r\n                    });\r\n                };\r\n                document.head.appendChild(slickScript);\r\n\r\n                var slickScriptCss = document.createElement('link');\r\n                slickScriptCss.href = 'https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.css';\r\n                slickScriptCss.rel = 'stylesheet';\r\n                document.head.appendChild(slickScriptCss);\r\n\r\n                var slickScriptTheme = document.createElement('link');\r\n                slickScriptTheme.href = 'https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.css';\r\n                slickScriptTheme.rel = 'stylesheet';\r\n                document.head.appendChild(slickScriptTheme);\r\n            } catch (slickErr) {\r\n                console.error(slickErr);\r\n            }\r\n        }\r\n\r\n        initializeAccordion();\r\n        initializeDialog();\r\n        initializeTabs();\r\n        insertVideoTag();\r\n        generateHomePage();\r\n        alterBreadcrumb();\r\n        prismHighlighting();\r\n        addCopyrightFooter();\r\n        addTooltips();\r\n        loadSlickJS();\r\n    }\r\n})();"]}
=======
{"version":3,"sources":["byui.js"],"names":["run","fn","e","console","error","loadScript","href","cb","querySelector","script","document","createElement","src","addEventListener","once","head","appendChild","loadStyle","link","ref","type","getjQuery","lessThan","A","B","length","Error","i","jQuery","needtoLoad","jquery","currentVersion","split","noConflict","initializeCarousel","$","slick","dots","editorStyles","tinyMCE","cssNames","cssHrefs","querySelectorAll","forEach","linkTag","getAttribute","some","match","cssName","push","editors","editor","dom","styleSheetLoader","load","initializeAccordion","accordion","heightStyle","collapsible","active","initializeDialog","dialog","insertVideoTag","dataset","source","video","innerHTML","width","height","vidid","generateSteps","courseNumber","modules","resourcesModule","find","test","canvasModule","name","start","iLearnTutorial","resources","instructor","id","get","teachers","filter","teacher","findIndex","teach","user_id","log","generateLessons","lessonWrapper","classList","contains","validModules","modulesPerRow","moduleCount","insertAdjacentHTML","generateHomePage","steps","lessons","location","pathname","alterBreadcrumb","window","replace","prismHighlighting","addCopyrightFooter","page","getElementById","Date","getFullYear","warn","addTooltips","tip","borderColor","includes","tippy","html","interactive","placement","theme","size","loadSlickJS","getItem"],"mappings":"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","file":"byui.js","sourcesContent":["/* eslint-env browser */\n/* eslint no-console:0 */\n/* global tinyMCE, tippy */\n\n(function(){ /* IFFY - nothing released into global */\n\n/* Allows us to disable this page for testing purposes */\n// TESTING disable for prod\n\nif (localStorage.getItem('devAccount') !== 'true') {\n    \n    window.addEventListener('load',function(){\n        run(initializeCarousel);\n        run(editorStyles);\n    });\n\n    document.addEventListener('DOMContentLoaded',function(){\n        run(initializeAccordion);\n        run(initializeDialog);\n        run(insertVideoTag);\n        run(generateHomePage);\n        run(alterBreadcrumb);\n        run(prismHighlighting);\n        run(addCopyrightFooter);\n        run(addTooltips);\n        run(loadSlickJS);\n    });\n\n} else {\n    console.warn('byui.js disabled for testing');\n}\n\nfunction run(fn){ try { fn() } catch (e){ console.error(e) } }\n\nfunction loadScript(href,cb){\n    // Already injected?\n    if(document.querySelector('script[src=\"'+href+'\"]') === null){\n        var script = document.createElement('script');\n        script.src = href\n        // Call the callback once it is done loading\n        if(cb) script.addEventListener('load',cb,{once:true});\n        // Append to head of document\n        document.head.appendChild(script);\n    }\n}\n\nfunction loadStyle(href,cb){\n    // Already injected?\n    if(document.querySelector('link[href=\"'+href+']\"') === null){\n        var link = document.createElement('link');\n        link.ref = 'stylesheet';\n        link.type = 'text/css';\n        link.href = href\n        // Call the callback once it is done loading\n        if(cb) link.addEventListener('load',cb,{once:true});\n        // Append to head of document\n        document.head.appendChild(link);\n    }\n}\n\nfunction getjQuery(cb) {\n    /* If already saved then give that */\n    if(this.jQuery) return cb(this.jQuery)\n\n    function lessThan(A,B){\n        if(A.length != B.length) throw new Error('Comparing two different sizes')\n        for (i = 0; i < A.length; i++) {\n            // Greater Than\n            if (A[i] > B[i]) return false;\n            // Less Than\n            else if (A[i] < B[i]) return true;\n        }\n        // Equal\n        return false\n    }\n\n    var needtoLoad = true;\n\n    /* If jQuery is already on the page */\n    if (typeof jQuery != 'undefined' && typeof jQuery().jquery != 'undefined') {\n        // get the version\n        var currentVersion = jQuery().jquery.split('.'), i;\n        // check to see if version is above our minimum\n        needtoLoad = lessThan(currentVersion,[1,7,0])\n    }\n\n    /* Load the script if needed */\n    if(needtoLoad){\n        loadScript('https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js',function(){\n            this.jQuery = jQuery.noConflict()\n            cb(this.jQuery);\n        })\n    } else {\n        this.jQuery = jQuery\n        cb(jQuery);\n    }\n}\n\n/* Initialize carousels if any are present on page */\nfunction initializeCarousel() {\n    if (document.querySelector('.carousel')) {\n        getjQuery($ => {\n            $('.carousel').slick({\n                dots: true,\n            });\n        });\n    }\n}\n\n/* inject css into tinyMCE editors on page. Has to wait till tinyMCE is done loading */\nfunction editorStyles() {\n    /* if there are no WYSIWYG's on the page, don't bother running */\n    if (typeof tinyMCE != 'undefined'){\n\n        /* our css, canvas common css, canvas color vars css */\n        var cssNames = [/byui\\.css$/, /online\\.css$/, /common[\\w-]*\\.css$/, /variables[\\w-]*\\.css$/, /campus\\.css$/, /pathway\\.css$/];\n        \n        /* Collect list of hrefs that match one of the cssNames */\n        var cssHrefs = []\n        document.querySelectorAll('link[rel=stylesheet]').forEach(function(linkTag){\n            var href = linkTag.getAttribute('href');\n            /* only keep the link if it matches one of the regExes */\n            if (cssNames.some(cssName => href.match(cssName) !== null)) {\n                cssHrefs.push(href);\n            }\n        })\n    \n        /* For each editor, inject each stylesheet */\n        tinyMCE.editors.forEach(editor => {\n            cssHrefs.forEach(href => {\n                editor.dom.styleSheetLoader.load(href);\n            });\n        });\n    }\n}\n\n/* Initialize accordion - JQUERY UI */\nfunction initializeAccordion() {\n    if (document.querySelector('div.accordion')) {\n        getjQuery($ => {\n            $('div.accordion').accordion({\n                heightStyle: 'content',\n                collapsible: true,\n                active: false\n            });\n        });\n    }\n}\n\n/* Initialize dialog - JQUERY UI */\nfunction initializeDialog() {\n    if (document.querySelector('div.dialog')) {\n        getjQuery($ => {\n            $('div.dialog').dialog();\n        });\n    }\n}\n\n/* Insert custom video tag generation scripts */\nfunction insertVideoTag() {\n    document.querySelectorAll('.byui-video').forEach(video => {\n        if (video.dataset.source == 'youtube') {\n            video.innerHTML = `<iframe width=\"${video.dataset.width}px\" height=\"${video.dataset.height}px\" src=\"https://www.youtube.com/embed/${video.dataset.vidid}\" frameborder=\"0\" allowfullscreen></iframe>`;\n        } else if (videos[i].dataset.source == 'kaltura') {\n            video.innerHTML = `<iframe width=\"${video.dataset.width}px\" height=\"${video.dataset.height}px\" src=\"https://cdnapisec.kaltura.com/p/1157612/sp/115761200/embedIframeJs/uiconf_id/29018071/partner_id/1157612?iframeembed=true&amp;playerId=kaltura_player_1485805514&amp;entry_id=${video.dataset.vidid}&amp;flashvars[streamerType]=auto\" frameborder=\"0\" allowfullscreen></iframe>`;\n        }\n    })\n}\n\n/* generate top buttons (under.steps) */\nfunction generateSteps(courseNumber,modules) {\n\n    /* Get additional resources module item */\n    var resourcesModule = modules.find(canvasModule => /student\\s*resources/i.test(canvasModule.name));\n\n    /* set home page buttons */\n    var start = document.querySelector('#start'),\n        iLearnTutorial = document.querySelector('#tutorial'),\n        resources = document.querySelector('#resources'),\n        instructor = document.querySelector('#instructor');\n\n    if (start)\n        start.href = `/courses/${courseNumber}/modules#module_${modules[0].id}`;\n    if (iLearnTutorial)\n        iLearnTutorial.href = 'http://byu-idaho.screenstepslive.com/s/16998/m/76692/l/865828-canvas-student-orientation?token=aq7F_UOmeDIj-6lBVDaXBdOQ01pfx1jw';\n    if (resources && resourcesModule)\n        resources.href = `/courses/${courseNumber}/modules#module_${resourcesModule.id}`;\n\n    getjQuery($ => {\n        /* generate link to instructor bio - make the api call to get enrollments*/\n        $.get(`https://byui.instructure.com/api/v1/courses/${courseNumber}/enrollments?type%5B%5D=TeacherEnrollment`, teachers => {\n            /* check for multiple instances of the same teacher */\n            // TODO which one of these is faster?\n            // teachers = teachers.map(teacher => teacher.user_id).filter((teacherId, i, teachers) => teachers.indexOf(teacherId) === i);\n            teachers = teachers.filter((teacher, i, teachers) => teachers.findIndex(teach => teach.user_id == teacher.user_id) == i);\n    \n    \n            if (teachers.length > 1) {\n                /* If there are multiple unique teachers */\n                console.log('Multiple teachers are enrolled in this course. Please add \"Your Instructor\" link manually.');\n            } else if (teachers.length === 0) {\n                /* if the teacher isn't enrolled for some reason */\n                console.log('Unable to find teacher enrollment.');\n            } else {\n                /* if we have one teacher set the URL */\n                instructor.href = `/courses/${courseNumber}/users/${teachers[0].user_id}`;\n            }\n        });\n    })\n}\n\n/* generate lesson links (under .lessons) */\nfunction generateLessons(courseNumber,modules) {\n    var lessonWrapper = document.querySelector('#navigation .lessons')\n\n    /* clear lesson div & generate module links if generate class exists */\n    if (lessonWrapper.classList.contains('generate')) {\n        \n        /* Clear lesson wrapper */\n        lessonWrapper.innerHTML = '';\n        \n        /* remove modules with invalid names & get modulesPerRow (limit 7) */\n        var validModules = modules.filter(canvasModule => /(Week|Lesson|Unit)\\s*(1[0-9]|0?\\d(\\D|$))/gi.test(canvasModule.name))\n        var modulesPerRow = validModules.length > 7 ? 7 : validModules.length;\n\n        /* generate module links */\n        validModules.forEach((canvasModule, i) => {\n            var moduleCount = (i < 10 ? '0':'') + (i+1)\n            lessonWrapper.insertAdjacentHTML('beforeend', `<a href='/courses/${courseNumber}/modules#module_${canvasModule.id}' style='width: calc(100% / ${modulesPerRow} - 20px);'>${moduleCount}</a>`);\n        });\n    }\n}\n\n/* handles all functions required to generate the course homepage */\nfunction generateHomePage() {\n    \n    /* if we are on the course homepage and the page has the expected format */\n    var steps = document.querySelector('#navigation .steps')\n    var lessons = document.querySelector('#navigation .lessons')\n    if (steps && lessons) {\n        \n        var courseNumber = document.location.pathname.split('/')[2];\n        \n        /* get course modules */\n        getjQuery($ => {\n            $.get('/api/v1/courses/' + courseNumber + '/modules?per_page=30', (modules) => {\n                \n                /* Don't run steps if they don't exist (or lessons) */\n                if (steps) generateSteps(courseNumber,modules);\n                if (lessons) generateLessons(courseNumber,modules);\n\n            });\n        })\n    }\n}\n\n/* Hide the 3rd breadcrumb */\nfunction alterBreadcrumb() {\n    /* If there are 4 total, AND we're inside a course AND we're not in a group tab */\n    if (document.querySelectorAll('#breadcrumbs li').length === 4 && /\\.com\\/courses\\/\\d+\\/(?!groups)/i.test(window.location.href)) {\n        \n        document.querySelector('#breadcrumbs li:nth-child(3) span').innerHTML = 'Modules';\n        \n        /* update the link */\n        var link = document.querySelector('#breadcrumbs li:nth-child(3) a')\n        link.href = link.href.replace(/\\/\\w+$/i, '/modules');\n    }\n}\n\n/* enable prism pre > code highlighting */\nfunction prismHighlighting() {\n    if (document.querySelector('pre code')){\n        loadScript('https://content.byui.edu/integ/gen/a40c34d7-9f6f-4a18-a41d-2f40e2b2a18e/0/codeHighlighter.js')\n        loadStyle('https://content.byui.edu/integ/gen/a40c34d7-9f6f-4a18-a41d-2f40e2b2a18e/0/codeHighlighter.css')\n    }\n}\n\n/* Insert copyright footer */\nfunction addCopyrightFooter() {\n    var page = document.getElementById('content');\n    if (page) {\n        /* don't add one if it already exists */\n        if (!document.querySelector('p.copyright') && !document.querySelector('p#byui-copyright')){\n            page.insertAdjacentHTML('beforeend', `<p id='byui-copyright'>Copyright ${new Date().getFullYear()} Brigham Young University-Idaho</p>`);\n        }\n    } else {\n        console.warn('unable to add copyright footer to page');\n    }\n}\n\n/* add quiz.next tooltips where needed */\nfunction addTooltips() {\n\n    var tip, borderColor, divId = 'byui-quizzes-next-tooltip';\n\n    /* Add appropriate tooltip OR return if we're on the wrong page */\n    if (window.location.href.includes('settings')) {\n        /* Settings Tip */\n        borderColor = 'red';\n        tip = 'Please review <a href=\"http://byu-idaho.screenstepslive.com/s/14177/m/73336/l/970385-quizzes-next-faq-s\" target=\"_blank\">these FAQs</a> to see the benefits and cautions before using Quizzes.Next';\n    } else if (window.location.href.includes('assignments')) {\n        /* Assignments Tip */\n        borderColor = 'black';\n        tip = 'Be sure to periodically review the <a href=\"http://byu-idaho.screenstepslive.com/s/14177/m/73336/l/970385-quizzes-next-faq-s\" target=\"_blank\">Quizzes.Next FAQs</a> to keep updated on new features';\n    } else {\n        return;\n    }\n\n    /* Inject the tooltip */\n    document.head.insertAdjacentHTML('beforeend',`<div id=\"${divId}\" style=\"display: none;\">${tip}</div>`);\n\n    /* Add tooltip styles to DOM with appropriate border color */\n    document.head.insertAdjacentHTML('beforeend', `\n        <style>\n            .tippy-tooltip.byui-theme {\n                border: 2px solid ${borderColor};\n                background-color: white;\n                color: black;\n                max-width: 200px;\n            }\n            .tippy-backdrop {\n                background: white;\n            }\n        </style>\n    `)\n\n    /* Load Tippy */\n    loadScript('https://content.byui.edu/integ/gen/a422cccd-35b7-4087-9329-20698cf169b0/0/tippy.all.min.js',function(){\n        tippy('.quizzes_next, .new_quiz_lti_wrapper', {\n            html: '#'+divId,\n            interactive: true,\n            placement: 'bottom-end',\n            theme: 'byui',\n            size: 'large'\n        });\n    });\n}\n\n/* load JS & CSS needed for image carousels if there is one on the page */\nfunction loadSlickJS() {\n    if(document.querySelector('.carousel')){\n        /* Script */\n        loadScript('https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js');\n        /* Css */\n        loadStyle('https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.css');\n        /* Theme */\n        loadStyle('https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.css');\n    }\n}\n\n})()"]}
>>>>>>> c57d33f09927c4d00987f0e1e00c60034a38fc54
