{"version":3,"sources":["byui.js"],"names":["checkForJquery","cb","loadJquery","console","log","jqueryScript","document","createElement","href","onload","head","appendChild","$","jquery","minimumVersion","currentVersion","split","validVersion","i","length","loadjQueryErr","error","checkJQueryUIAccordion","callback","accordion","jqueryUIScript","addEventListener","src","window","tinyMCE","regExes","cssHrefs","querySelectorAll","reduce","accum","linkTag","getAttribute","some","match","regEx","push","editors","forEach","editor","dom","styleSheetLoader","load","editorErr","courseNumber","location","pathname","querySelector","jQueryErr","autoHeight","heightStyle","collapsible","active","accordionErr","buttonId","exec","button","id","$button","dialog","autoOpen","e","preventDefault","dialogErr","tabs","tabErr","videos","dataset","source","innerHTML","width","height","vidid","videoErr","generateSteps","modules","resourcesModule","find","test","canvasModule","name","start","iLearnTutorial","resources","instructor","get","teachers","filter","teacher","findIndex","teach","user_id","generateStepsErr","generateLessons","generateLessonLink","moduleId","moduleCount","lessonWrapperSelector","insertAdjacentHTML","modulesPerRow","classList","includes","validModules","generateLessonErr","stepsExist","lessonsExist","selectorErr","replace","breadcrumbErr","codeUsed","jsEle","cssEle","rel","prismErr","page","getElementById","Date","getFullYear","Error","copyrightErr","borderColor","styleGuts","script","type","async","tippy","html","interactive","placement","theme","size","tooltipErr","slickScript","slick","dots","slickScriptCss","slickScriptTheme","slickErr"],"mappings":"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","file":"byui.js","sourcesContent":["/*eslint-env browser */\r\n/* eslint no-console:0 */\r\n/* global tinyMCE, tippy, $ */\r\n\r\n(function () {\r\n    window.addEventListener('load', editorStyles);\r\n    // document.addEventListener('DOMContentLoaded', main);\r\n    window.addEventListener('load', main);\r\n\r\n    function checkForJquery(cb) {\r\n        function loadJquery() {\r\n            console.log('loading jQuery');\r\n            var jqueryScript = document.createElement('script');\r\n            jqueryScript.href = 'https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js';\r\n            jqueryScript.onload = cb;\r\n            document.head.appendChild(jqueryScript);\r\n        }\r\n        try {\r\n            if (typeof $ == 'undefined' || typeof $().jquery == 'undefined') {\r\n                loadJquery();\r\n            } else {\r\n                // check version\r\n                var minimumVersion = '1.7.0'.split('.');\r\n                var currentVersion = $().jquery.split('.');\r\n                var validVersion = true;\r\n\r\n                for (let i = 0; i < minimumVersion.length; i++) {\r\n                    if (currentVersion[i] > minimumVersion[i]) {\r\n                        break;\r\n                    } else if (currentVersion < minimumVersion) {\r\n                        validVersion = false;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (!validVersion) {\r\n                    loadJquery();\r\n                    return;\r\n                }\r\n\r\n                cb();\r\n            }\r\n        } catch (loadjQueryErr) {\r\n            console.error(loadjQueryErr);\r\n        }\r\n    }\r\n\r\n    function checkJQueryUIAccordion(callback) {\r\n        // first make sure we have jquery\r\n        checkForJquery(function () {\r\n            try {\r\n                // if we don't have accordion code add it\r\n                console.log($().accordion);\r\n                if ($().accordion === undefined) {\r\n                    var jqueryUIScript = document.createElement('script');\r\n                    // call the callback when it is loaded\r\n                    jqueryUIScript.addEventListener(\"load\", () => { callback() });\r\n                    jqueryUIScript.src = 'https://content.byui.edu/file/525e5166-d654-4340-b9b5-d15945a85d4a/1/jquery.ui.1.8.21.accordion.min.js';\r\n                    document.head.appendChild(jqueryUIScript);\r\n                }\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        })\r\n    }\r\n\r\n    function checkJQueryUITab(callback) {\r\n        // first make sure we have jquery\r\n        checkForJquery(function () {\r\n            try {\r\n                console.log($().tabs);\r\n                // if we don't have tabs code add it\r\n                if ($().tabs === undefined) {\r\n                    var jqueryUIScript = document.createElement('script');\r\n                    // call the callback when it is loaded\r\n                    jqueryUIScript.addEventListener(\"load\", () => { callback() });\r\n                    jqueryUIScript.src = \"https://raw.githubusercontent.com/jquery/jquery-ui/1.8.21/ui/jquery.ui.tabs.js\";\r\n                    document.head.appendChild(jqueryUIScript);\r\n                }\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        })\r\n    }\r\n\r\n    /* inject css into tinyMCE editors on page. Has to wait till tinyMCE is done loading */\r\n    function editorStyles() {\r\n        try {\r\n            /* if there are no WYSIWYG's on the page, don't bother running */\r\n            if (typeof tinyMCE === 'undefined') {\r\n                return;\r\n            }\r\n            /* our css, canvas common css, canvas color vars css */\r\n            var regExes = [/byui\\.css$/, /online\\.css$/, /common[\\w-]*\\.css$/, /variables[\\w-]*\\.css$/, /campus\\.css$/, /pathway\\.css$/];\r\n            var cssHrefs = [...document.querySelectorAll('link[rel=stylesheet]')].reduce((accum, linkTag) => {\r\n                var href = linkTag.getAttribute('href');\r\n\r\n                /* only keep the link if it matches one of the regExes */\r\n                if (regExes.some(regEx => href.match(regEx) !== null)) {\r\n                    accum.push(href);\r\n                }\r\n                return accum;\r\n            }, []);\r\n\r\n            tinyMCE.editors.forEach(editor => {\r\n                cssHrefs.forEach(href => {\r\n                    editor.dom.styleSheetLoader.load(href);\r\n                });\r\n            });\r\n        } catch (editorErr) {\r\n            console.error(editorErr);\r\n        }\r\n    }\r\n\r\n    function main() {\r\n        var courseNumber = document.location.pathname.split('/')[2];\r\n\r\n        /* Initialize accordion - JQUERY UI */\r\n        function initializeAccordion() {\r\n            try {\r\n                if (document.querySelector('.byui div.accordion')) {\r\n                    checkForJquery(jQueryErr => {\r\n                        if (jQueryErr) {\r\n                            throw jQueryErr;\r\n                        }\r\n                        checkJQueryUIAccordion(function () {\r\n                            $('.byui div.accordion').accordion({\r\n                                autoHeight: false,\r\n                                heightStyle: 'content',\r\n                                collapsible: true,\r\n                                active: false\r\n                            });\r\n                        })\r\n                    });\r\n                }\r\n            } catch (accordionErr) {\r\n                console.error(accordionErr);\r\n            }\r\n        }\r\n\r\n        /* Initialize dialog - JQUERY UI */\r\n        function initializeDialog() {\r\n            try {\r\n                if (document.querySelector('.byui div.dialog')) {\r\n                    checkForJquery(jQueryErr => {\r\n                        if (jQueryErr) {\r\n                            throw jQueryErr;\r\n                        }\r\n                        /* get all jQueryUI dialog boxes */\r\n                        document.querySelectorAll('.byui .Button[id^=\\'link_\\']').forEach(button => {\r\n                            /* Save linkID */\r\n                            let buttonId = /link_(\\d+)/i.exec(button.id)[1];\r\n                            let $button = $(`.byui #dialog_for_link_${buttonId}`);\r\n\r\n                            /* instantiate dialog */\r\n                            $button.dialog({\r\n                                autoOpen: false\r\n                            });\r\n\r\n                            /* add event listener to open dialog */\r\n                            button.addEventListener('click', (e) => {\r\n                                e.preventDefault();\r\n                                $button.dialog('open');\r\n                            });\r\n                        });\r\n                    });\r\n                }\r\n            } catch (dialogErr) {\r\n                console.error(dialogErr);\r\n            }\r\n        }\r\n\r\n        /* Initialize tabs - JQUERY UI */\r\n        function initializeTabs() {\r\n            try {\r\n                checkForJquery(jQueryErr => {\r\n                    if (jQueryErr) {\r\n                        throw jQueryErr;\r\n                    }\r\n\r\n                    $('.byui #styleguide-tabs-demo-minimal, .byui .tabs').tabs();\r\n                });\r\n            } catch (tabErr) {\r\n                console.error(tabErr);\r\n            }\r\n        }\r\n\r\n        /* Insert custom video tag generation scripts */\r\n        function insertVideoTag() {\r\n            try {\r\n                var videos = document.querySelectorAll('.byui-video');\r\n                for (var i = 0; i < videos.length; i++) {\r\n                    if (videos[i].dataset.source == 'youtube') {\r\n                        videos[i].innerHTML = `<iframe width=\"${videos[i].dataset.width}px\" height=\"${videos[i].dataset.height}px\" src=\"https://www.youtube.com/embed/${videos[i].dataset.vidid}\" frameborder=\"0\" allowfullscreen></iframe>`;\r\n                    } else if (videos[i].dataset.source == 'kaltura') {\r\n                        videos[i].innerHTML = `<iframe width=\"${videos[i].dataset.width}px\" height=\"${videos[i].dataset.height}px\" src=\"https://cdnapisec.kaltura.com/p/1157612/sp/115761200/embedIframeJs/uiconf_id/29018071/partner_id/1157612?iframeembed=true&amp;playerId=kaltura_player_1485805514&amp;entry_id=${videos[i].dataset.vidid}&amp;flashvars[streamerType]=auto\" frameborder=\"0\" allowfullscreen></iframe>`;\r\n                    }\r\n                }\r\n            } catch (videoErr) {\r\n                console.error(videoErr);\r\n            }\r\n        }\r\n\r\n        /* handles all functions required to generate the course homepage */\r\n        function generateHomePage() {\r\n            /* generate top buttons (under.steps) */\r\n            function generateSteps(modules) {\r\n                try {\r\n                    /* Get additional resources module item */\r\n                    var resourcesModule = modules.find(canvasModule => /student\\s*resources/i.test(canvasModule.name));\r\n\r\n                    /* set home page buttons */\r\n                    var start = document.querySelector('.byui #start'),\r\n                        iLearnTutorial = document.querySelector('.byui #tutorial'),\r\n                        resources = document.querySelector('.byui #resources'),\r\n                        instructor = document.querySelector('.byui #instructor');\r\n\r\n                    if (start)\r\n                        start.href = `/courses/${courseNumber}/modules#module_${modules[0].id}`;\r\n                    if (iLearnTutorial)\r\n                        iLearnTutorial.href = 'http://byu-idaho.screenstepslive.com/s/16998/m/76692/l/865828-canvas-student-orientation';\r\n                    if (resources && resourcesModule)\r\n                        resources.href = `/courses/${courseNumber}/modules#module_${resourcesModule.id}`;\r\n\r\n                    /* generate link to instructor bio - make the api call to get enrollments*/\r\n                    $.get(`https://byui.instructure.com/api/v1/courses/${courseNumber}/enrollments?type%5B%5D=TeacherEnrollment&per_page=50`, teachers => {\r\n                        /* check for multiple instances of the same teacher */\r\n                        // TODO which one of these is faster?\r\n                        // teachers = teachers.map(teacher => teacher.user_id).filter((teacherId, i, teachers) => teachers.indexOf(teacherId) === i);\r\n                        teachers = teachers.filter((teacher, i, teachers) => teachers.findIndex(teach => teach.user_id == teacher.user_id) == i);\r\n\r\n\r\n                        if (teachers.length > 1) {\r\n                            /* If there are multiple unique teachers */\r\n                            console.log('Multiple teachers are enrolled in this course. Please add \"Your Instructor\" link manually.');\r\n                        } else if (teachers.length === 0) {\r\n                            /* if the teacher isn't enrolled for some reason */\r\n                            console.log('Unable to find teacher enrollment.');\r\n                        } else {\r\n                            /* if we have one teacher set the URL */\r\n                            instructor.href = `/courses/${courseNumber}/users/${teachers[0].user_id}`;\r\n                        }\r\n                    });\r\n                } catch (generateStepsErr) {\r\n                    console.error(generateStepsErr);\r\n                }\r\n            }\r\n\r\n            /* generate lesson links (under .lessons) */\r\n            function generateLessons(modules) {\r\n                try {\r\n                    /* Generate a Module link - called by above try statement */\r\n                    function generateLessonLink(moduleId, moduleCount) {\r\n                        moduleCount++;\r\n                        /* append leading 0 */\r\n                        if (moduleCount < 10)\r\n                            moduleCount = `0${moduleCount}`;\r\n                        document.querySelector(lessonWrapperSelector).insertAdjacentHTML('beforeend', `<a href='/courses/${courseNumber}/modules#module_${moduleId}' style='width: calc(100% / ${modulesPerRow} - 20px);'>${moduleCount}</a>`);\r\n                    }\r\n\r\n                    var lessonWrapperSelector = '.byui #navigation .lessons';\r\n\r\n                    /* clear lesson div & generate module links if generate class exists */\r\n                    if ([...document.querySelector(lessonWrapperSelector).classList].includes('generate')) {\r\n                        document.querySelector(lessonWrapperSelector).innerHTML = '';\r\n                        /* remove modules with invalid names & get modulesPerRow (limit 7) */\r\n                        var validModules = modules.filter(canvasModule => {\r\n                            return /(Week|Lesson|Unit)\\s*(1[0-9]|0?\\d(\\D|$))/gi.test(canvasModule.name);\r\n                        }),\r\n                            modulesPerRow = validModules.length > 7 ? 7 : validModules.length;\r\n\r\n                        /* generate module links */\r\n                        validModules.forEach((canvasModule, i) => {\r\n                            generateLessonLink(canvasModule.id, i);\r\n                        });\r\n                    }\r\n                } catch (generateLessonErr) {\r\n                    console.error(generateLessonErr);\r\n                }\r\n            }\r\n\r\n            try {\r\n                /* quit if we are not on the course homepage OR the page is missing the expected format */\r\n                let stepsExist = document.querySelectorAll('.byui #navigation .steps').length > 0,\r\n                    lessonsExist = document.querySelectorAll('.byui #navigation .lessons').length > 0;\r\n                if (!stepsExist && !lessonsExist) {\r\n                    return;\r\n                }\r\n\r\n                checkForJquery(jQueryErr => {\r\n                    if (jQueryErr) {\r\n                        throw jQueryErr;\r\n                    }\r\n                    /* get course modules */\r\n                    $.get('/api/v1/courses/' + courseNumber + '/modules?per_page=30', (modules) => {\r\n                        /* Don't run steps if they don't exist (or lessons) */\r\n                        if (stepsExist) {\r\n                            generateSteps(modules);\r\n                        }\r\n                        if (lessonsExist) {\r\n                            generateLessons(modules);\r\n                        }\r\n                    });\r\n                });\r\n            } catch (selectorErr) {\r\n                console.error(selectorErr);\r\n            }\r\n        }\r\n\r\n        /* Hide the 3rd breadcrumb */\r\n        function alterBreadcrumb() {\r\n            try {\r\n                /* If there are 4 total, AND we're inside a course AND we're not in a group tab */\r\n                if (document.querySelectorAll('#breadcrumbs li').length === 4 && /\\.com\\/courses\\/\\d+\\/(?!groups)/i.test(window.location.href)) {\r\n                    document.querySelectorAll('#breadcrumbs li:nth-child(3) span')[0].innerHTML = 'Modules';\r\n                    /* update the link */\r\n                    document.querySelectorAll('#breadcrumbs li:nth-child(3) a')[0].href = document.querySelectorAll('#breadcrumbs li:nth-child(3) a')[0].href.replace(/\\/\\w+$/i, '/modules');\r\n                }\r\n            } catch (breadcrumbErr) {\r\n                console.error(breadcrumbErr);\r\n            }\r\n        }\r\n\r\n        /* enable prism pre > code highlighting */\r\n        function prismHighlighting() {\r\n            try {\r\n                let codeUsed = document.querySelector('pre code');\r\n                if (codeUsed == null) return;\r\n\r\n                let jsEle = document.createElement('script'),\r\n                    cssEle = document.createElement('link');\r\n                jsEle.src = 'https://content.byui.edu/integ/gen/a40c34d7-9f6f-4a18-a41d-2f40e2b2a18e/0/codeHighlighter.js';\r\n                cssEle.href = 'https://content.byui.edu/integ/gen/a40c34d7-9f6f-4a18-a41d-2f40e2b2a18e/0/codeHighlighter.css';\r\n                cssEle.rel = 'stylesheet';\r\n                document.head.appendChild(jsEle);\r\n                document.head.appendChild(cssEle);\r\n\r\n            } catch (prismErr) {\r\n                console.error(prismErr);\r\n            }\r\n        }\r\n\r\n        /* Insert copyright footer */\r\n        function addCopyrightFooter() {\r\n            try {\r\n                var page = document.getElementById('content');\r\n                if (page) {\r\n                    /* don't add one if it already exists */\r\n                    if (!document.querySelector('p.copyright') && !document.querySelector('p#byui-copyright'))\r\n                        page.insertAdjacentHTML('beforeend', `<p id='byui-copyright'>Copyright ${new Date().getFullYear()} Brigham Young University-Idaho</p>`);\r\n                } else {\r\n                    throw new Error('unable to add copyright footer to page');\r\n                }\r\n            } catch (copyrightErr) {\r\n                console.error(copyrightErr);\r\n            }\r\n        }\r\n\r\n        /* add quiz.next tooltips where needed */\r\n        function addTooltips() {\r\n            try {\r\n                let borderColor = 'black';\r\n                const divId = 'byui-quizzes-next-tooltip';\r\n                const assignmentsHTML = `<div id=\"${divId}\" style=\"display: none;\">Be sure to periodically review the <a href=\"http://byu-idaho.screenstepslive.com/s/14177/m/73336/l/970385-quizzes-next-faq-s\" target=\"_blank\">Quizzes.Next FAQs</a> to keep updated on new features</div>`;\r\n                const settingsHTML = `<div id=\"${divId}\" style=\"display: none;\">Please review <a href=\"http://byu-idaho.screenstepslive.com/s/14177/m/73336/l/970385-quizzes-next-faq-s\" target=\"_blank\">these FAQs</a> to see the benefits and cautions before using Quizzes.Next</div>`;\r\n\r\n                /* Add appropriate tooltip OR return if we're on the wrong page */\r\n                if (window.location.href.includes('settings')) {\r\n                    document.head.insertAdjacentHTML('beforeend', settingsHTML);\r\n                    borderColor = 'red';\r\n                } else if (window.location.href.includes('assignments')) {\r\n                    document.head.insertAdjacentHTML('beforeend', assignmentsHTML);\r\n                } else {\r\n                    return;\r\n                }\r\n\r\n                /* Add tooltip styles to DOM with appropriate border color */\r\n                const styleGuts = `<style>.tippy-tooltip.byui-theme {border: 2px solid ${borderColor};background-color: white;color: black;max-width: 200px;}.tippy-backdrop {background: white;}</style>`;\r\n\r\n                document.head.insertAdjacentHTML('beforeend', styleGuts);\r\n\r\n                /* create a script tag, add the tooltip JavaScript to it, and add the tag to the document */\r\n                const script = document.createElement('script');\r\n                script.type = 'text/javascript';\r\n                script.async = true;\r\n                script.src = 'https://content.byui.edu/integ/gen/a422cccd-35b7-4087-9329-20698cf169b0/0/tippy.all.min.js';\r\n                script.onload = () => {\r\n                    tippy('.quizzes_next, .new_quiz_lti_wrapper', {\r\n                        html: `#${divId}`,\r\n                        interactive: true,\r\n                        placement: 'bottom-end',\r\n                        theme: 'byui',\r\n                        size: 'large'\r\n                    });\r\n                };\r\n                document.head.appendChild(script);\r\n            } catch (tooltipErr) {\r\n                console.error(tooltipErr);\r\n            }\r\n        }\r\n\r\n        /* load JS & CSS needed for image carousels if there is one on the page */\r\n        function loadSlickJS() {\r\n            try {\r\n                /* don't load scripts if they aren't being used on the current page */\r\n                if (document.querySelectorAll('.byui .carousel').length === 0) {\r\n                    return;\r\n                }\r\n                var slickScript = document.createElement('script');\r\n                slickScript.src = 'https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js';\r\n                /* Initialize carousels if any are present on page */\r\n                slickScript.onload = () => {\r\n                    checkForJquery(jQueryErr => {\r\n                        if (jQueryErr) {\r\n                            throw jQueryErr;\r\n                        }\r\n\r\n                        $('.byui .carousel').slick({\r\n                            dots: true,\r\n                        });\r\n                    });\r\n                };\r\n                document.head.appendChild(slickScript);\r\n\r\n                var slickScriptCss = document.createElement('link');\r\n                slickScriptCss.href = 'https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.css';\r\n                slickScriptCss.rel = 'stylesheet';\r\n                document.head.appendChild(slickScriptCss);\r\n\r\n                var slickScriptTheme = document.createElement('link');\r\n                slickScriptTheme.href = 'https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.css';\r\n                slickScriptTheme.rel = 'stylesheet';\r\n                document.head.appendChild(slickScriptTheme);\r\n            } catch (slickErr) {\r\n                console.error(slickErr);\r\n            }\r\n        }\r\n\r\n        initializeAccordion();\r\n        initializeDialog();\r\n        initializeTabs();\r\n        insertVideoTag();\r\n        generateHomePage();\r\n        alterBreadcrumb();\r\n        prismHighlighting();\r\n        addCopyrightFooter();\r\n        addTooltips();\r\n        loadSlickJS();\r\n    }\r\n})();"]}